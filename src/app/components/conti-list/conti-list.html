<div class="conti-container">
    <h1>I Tuoi Conti</h1>

    <!-- STATO DI CARICAMENTO -->
    @if (loading) {
    <div class="loading">
        Caricamento in corso...
    </div>
    }

    <!-- MESSAGGIO DI ERRORE -->
    @if (error && !loading) {
    <div class="error">
        {{ error }}
    </div>
    }

    <!-- LISTA CONTI -->
    @if (!loading && !error && conti.length > 0) {
    <div class="conti-list">
        @for (conto of conti; track conto.id) {
        <div class="conto-card">
            <h3>{{ conto.nome }}</h3>
            <p class="saldo">Saldo: <strong>{{ conto.saldo_totale | currency:'EUR' }}</strong></p>
            <p class="count">Operazioni: {{ conto.operazioni?.length || 0 }}</p>
        </div>
        }
    </div>
    }

    <!-- NESSUN CONTO -->
    @if (!loading && !error && conti.length === 0) {
    <div class="no-conti">
        Non hai conti. Creane uno!
    </div>
    }
</div>